# FPGA Helpers

A Free Software project which consist on a bunch of scripts to use FPGA development tools in a vendor independent way.

The target development platform is Debian GNU/Linux, but it is probably easy to run in others OS.

## Helpers Overview
* fpga_setup:    used to set the system to execute the tools of the vendors.
* fpga_synt:     generates a Makefile and two TCL files, which are used to configure and execute a synthesis project.
* fpga_prog:     used to transfer a bitstream to a FPGA or memory.
* fpga_report:   -- ToDo --
* fpga_compare:  -- ToDo --

## FPGA Setup
* Support: ISE, Vivado, Quartus2, Libero-SoC.

Scripts which use tools of the vendors (*fpga_prog* and the *Makefile* generated by *fpga_synt*) guess that are well configured and available in the system path.

It can be done:
* Running manually the needed actions; or ...
* Automatically, for example using bashrc; or ...
* Using *fpga_setup*.

There are default configuration of paths and license servers (when needed), which can be changed running:
```
$ fpga_setup --configure
```
To prepare a console to run all the available vendors tools:
```
$ fpga_setup --all
```

There are specific options for each tool, such as --vivado, --quartus2, and more. You can use --help to see available options.

You can use an interactive menu running *fpga_setup* without options.

## FPGA Synt
* Support: ISE, Vivado, Quartus2, Libero-SoC.

This tool generates several files:
* A Makefile
* A Tcl options files
* One or more Tcl files with commands for synthesis

The Makefile has several targets, combining action (synthesis, implementation or bitstream generation) and optimizations (none, area, power, speed). Run 'make help' to see available options. This Makefile use the TCL interpreter of the desired vendor, so need the tools in the system path (you can use *fpga_setup*).

In options.tcl you can specified the target FPGA and the design files using the TCL commands *fpga_device* and *fpga_file*. They are wrappers of the needed vendor commands. Aditionally, you have the constant *$FPGA_TOOL* to know what tool is running and so apply specific configurations. See the generated options.tcl to more information.

The TCL for synthesis could be one for a specific tool or all the supported.
* To generate the desired tool:
```
$ fpga_synt TOOLNAME
```
* To generate a TCL for each available TOOL:
```
$ fpga_synt all
```
* For help, options and their values, run:
```
$ fpga_synt -h
```

You can specify a board name or a board file (YAML format) with the option -b. It is useful to add at the bottom of the Makefile, *fpga_prog* with the needed options to support the specified board. If it is not specified, this section is not generated. As template of your own board you can use:

```
---
name: Avnet Spartan 6 MicroBoard
fpga:
  - name:     xc6slx9-csg324
    position: 1
    vendor:   xilinx
spi:
  - name:     N25Q128
    position: 1
    width:    4
    size:     32M
```

## FPGA Prog
* Support: ISE, Quartus2 (partial), Libero-SoC (partial).

If you use the -b option of *fpga_synt*, the generated *Makefile* use *fpga_prog* with the needed options. If you need to transfer an existintg bitstream without a *fpga_synt* project, you can use *fpga_prog*. It also need vendors tools in the system path (you can use *fpga_setup*).

The general form to use it is:
```
$ fpga_prog OPTIONS BITSTREAM
```

OPTIONS include the same -b option of *fpga_synt* and others, which specify board features. For help you can run:
```
$ fpga_prog -h
```
